/*! OpenComponents client v1.0.4 | (c) 2015-2018 OpenTable, Inc. | https://github.com/opencomponents/oc-client-browser/tree/master/LICENSES */
!function(e,n){var r=function(e,n){return e instanceof(n||Array)},t=document,o="getElementsByTagName",a="length",c="readyState",i="onreadystatechange",s=t[o]("script"),d=s[s[a]-1],u=d.innerHTML.replace(/^\s+|\s+$/g,"");if(!e.ljs){var l=d.src.match(/checkLoaded/)?1:0,f=t[o]("head")[0]||t.documentElement,p=function(e){var n={};return n.u=e.replace(/#(=)?([^#]*)?/g,function(e,r,t){return n[r?"f":"i"]=t,""}),n},m=function(e,n,r){var o,a=t.createElement(e);r&&(a[c]?a[i]=function(){"loaded"!==a[c]&&"complete"!==a[c]||(a[i]=null,r())}:a.onload=r);for(o in n)n[o]&&(a[o]=n[o]);f.appendChild(a)},h=function(e,n){if(this.aliases&&this.aliases[e]){var t=this.aliases[e].slice(0);return r(t)||(t=[t]),n&&t.push(n),this.load.apply(this,t)}if(r(e)){for(var o=e[a];o--;)this.load(e[o]);return n&&e.push(n),this.load.apply(this,e)}return e.match(/\.css\b/)?this.loadcss(e,n):this.loadjs(e,n)},v={},y={aliases:{},loadjs:function(e,r){var t=p(e);return e=t.u,v[e]===!0?(r&&r(),this):v[e]!==n?(r&&(v[e]=function(e,n){return function(){e&&e(),n&&n()}}(v[e],r)),this):(v[e]=function(n){return function(){v[e]=!0,n&&n()}}(r),r=function(){v[e]()},m("script",{type:"text/javascript",src:e,id:t.i,onerror:function(e){if(t.f){var n=e.currentTarget;n.parentNode.removeChild(n),m("script",{type:"text/javascript",src:t.f,id:t.i},r)}}},r),this)},loadcss:function(e,n){var r=p(e);return e=r.u,v[e]||m("link",{type:"text/css",rel:"stylesheet",href:e,id:r.i}),v[e]=!0,n&&n(),this},load:function(){var e=arguments,t=e[a];return 1===t&&r(e[0],Function)?(e[0](),this):(h.call(this,e[0],t<=1?n:function(){y.load.apply(y,[].slice.call(e,1))}),this)},addAliases:function(e){for(var n in e)this.aliases[n]=r(e[n])?e[n].slice(0):e[n];return this}};if(l){var g,j,x,b;for(g=0,j=s[a];g<j;g++)(b=s[g].getAttribute("src"))&&(v[b.replace(/#.*$/,"")]=!0);for(x=t[o]("link"),g=0,j=x[a];g<j;g++)("stylesheet"===x[g].rel||"text/css"===x[g].type)&&(v[x[g].getAttribute("href").replace(/#.*$/,"")]=!0)}e.ljs=y}d.src&&u&&m("script",{innerHTML:u})}(window);var oc=oc||{};!function(e,n){var r=window.location.href;fetch(r+"/uistatic/api/scope/an-3rdparty",{headers:{accept:"application/vnd.oc.unrendered+json"}}).then(function(e){return e.json()}).then(function(r){var t=r&&r.template&&r.template.src&&r.template.src.replace("template.js","libs/")+"";if(!t||"string"!=typeof t)throw new Error("Error in reading the an-3rdparty default version");"function"==typeof define&&define.amd?define(["exports","jquery"],function(r,o){o.extend(r,e.oc),n(e.oc=r,o,e.ljs,e.document,e.window,t)}):"object"==typeof exports&&"string"!=typeof exports.nodeName?n(exports,require("jquery"),e.ljs,e.document,e.window,t):n(e.oc=oc,e.$,e.ljs,e.document,e.window,t)})["catch"](function(e){console.error("Error in loading activeVersions",e)})}(this,function(e,n,r,t,o,a){function c(e){e=Array.isArray(e)?e:[e],e.forEach(function(e){_[e.type]||(_[e.type]={externals:e.externals})})}if(oc.conf=oc.conf||{},oc.cmd=oc.cmd||[],oc.renderedComponents=oc.renderedComponents||{},oc.status=oc.status||!1,oc.status)return oc;oc.status="loading";var i="https://cdnjs.cloudflare.com/ajax/libs/",s=oc.conf.retryInterval||5e3,d=oc.conf.retryLimit||30,u=oc.conf.retrySendNumber||!0,l=oc.conf.pollingInterval||500,f=oc.conf.tag||"oc-component",p="baseUrl parameter is required",m="Href parameter missing",h="name parameter is required",v="Failed to load {0} component {1} times. Giving up".replace("{1}",d),y="Error getting compiled view: {0}",g="Error rendering component: {0}, error: {1}",j="Failed to retrieve the component. Retrying in {0} seconds...".replace("{0}",s/1e3),x='Error loading component: view engine "{0}" not supported',b=oc.conf.loadingMessage||"",q="Component '{0}' correctly rendered",w="Unrendered component found. Trying to retrieve it...",$=i+"jquery-ajaxtransport-xdomainrequest/1.0.3/jquery.xdomainrequest.min.js",C=i+"jquery/1.11.2/jquery.min.js",E=i+"handlebars.js/4.0.6/handlebars.runtime.min.js",A=i+"jade/1.11.0/runtime.min.js";a&&($=a+"jquery-ajax-transport-xdomainrequest-1.0.3.min.js",C=a+"jquery-3.0.0.min.js",E=a+"handlebars-4.0.6.runtime.min.js",A=a+"jade-1.11.0.runtime.min.js");var T=oc.conf.debug||!1,k=function(){},H=o.navigator.userAgent,L=!!H.match(/MSIE 9/),M=!1,U=!1,N={},O=function(e){return"boolean"==typeof e},I={error:function(e){return console.log(e)},info:function(e){return!!T&&console.log(e)}},_={"oc-template-handlebars":{externals:[{global:"Handlebars",url:E}]},"oc-template-jade":{externals:[{global:"jade",url:A}]}};oc.conf.templates&&c(oc.conf.templates);var B=function(e,n,r){return void 0===N[e]&&(N[e]=d),N[e]<=0?r():(setTimeout(function(){n(d-N[e]+1)},s),void N[e]--)},F=function(e,n){if(e&&n){var r=oc.$.param(n);return e.indexOf("?")>-1?e+"&"+r:e+"?"+r}return e};oc.registerTemplates=function(e){return c(e),oc.ready(oc.renderUnloadedComponents),_},oc.require=function(e,n,t){"function"==typeof n&&(t=n,n=e,e=void 0),"string"==typeof e&&(e=[e]);var a=function(){var n=o;if("undefined"==typeof e)return!0;for(var r=0;r<e.length;r++)if(n=n[e[r]],!n)return!0;return!1},c=function(){var n=o;if("undefined"!=typeof e){for(var r=0;r<e.length;r++)if(n=n[e[r]],!n)return;return n}};a()?r.load(n,function(){t(c())}):t(c())};var S=function(e,n,r){if("function"==typeof n&&(r=n,n=[]),0===e.length)return r();var t=e[0];oc.require(t.global,t.url,function(){var o=t,a=n.concat(o),c=e.slice(1);S(c,a,r)})},D=function(e,n,r){n.id=Math.floor(9999999999*Math.random()),e.html(n.html),e.attr("id",n.id),e.attr("data-rendered",!0),e.attr("data-rendering",!1),e.attr("data-version",n.version),n.key&&e.attr("data-hash",n.key),n.name&&(e.attr("data-name",n.name),oc.renderedComponents[n.name]=n.version,oc.events.fire("oc:rendered",n)),r()};oc.build=function(e){if(!e.baseUrl)throw p;if(!e.name)throw h;var n=function(e){return e=e||"","/"!==e.slice(-1)&&(e+="/"),e},r=n(e.baseUrl)+n(e.name);if(e.version&&(r+=n(e.version)),e.parameters){r+="?";for(var t in e.parameters)e.parameters.hasOwnProperty(t)&&(r+=t+"="+e.parameters[t]+"&");r=r.slice(0,-1)}return"<"+f+' href="'+r+'"></'+f+">"},oc.events={},oc.ready=function(e){if(M)return e();if(U)oc.cmd.push(e);else{U=!0;var n=function(e,n){L&&!e.IE_POLYFILL_LOADED?oc.require($,n):n()},r=function(){M=!0,U=!1,oc.events=function(){var e=oc.$({});return{fire:function(n,r){return e.trigger(n,r)},on:function(n,r){return e.on(n,r||k)},reset:function(){return e.off()}}}(),e(),oc.events.fire("oc:ready",oc),oc.status="ready";for(var n=0;n<oc.cmd.length;n++)oc.cmd[n](oc);oc.cmd={push:function(e){e(oc)}}},t=!!o.jQuery,a=!!o.$;oc.require("jQuery",C,function(e){n(e,function(){t||a?oc.$=e:oc.$=e.noConflict(),r()})})}},oc.render=function(e,n,r){oc.ready(function(){var t=e.type;"jade"===t&&(t="oc-template-jade"),"handlebars"===t&&(t="oc-template-handlebars");var a=_[t];a?oc.require(["oc","components",e.key],e.src,function(c){c?S(a.externals,function(){if("oc-template-handlebars"===t)try{var e=o.Handlebars.template(c,[]);r(null,e(n))}catch(a){r(a.toString())}else r(null,c(n))}):r(y.replace("{0}",e.src))}):r(x.replace("{0}",e.type))})},oc.renderNestedComponent=function(e,n){oc.ready(function(){var r=e.attr("data-rendering"),t=e.attr("data-rendered"),o=O(r)?r:"true"===r,a=O(t)?t:"true"===t;o||a?setTimeout(n,l):(I.info(w),e.attr("data-rendering",!0),e.html('<div class="oc-loading">'+b+"</div>"),oc.renderByHref(e.attr("href"),function(r,t){return r||!t?(e.html(""),I.error(r),n()):void D(e,t,n)}))})},oc.renderByHref=function(e,n,r){var t=r,o=n;"function"==typeof n&&(t=n,o=0),oc.ready(function(){if(""===e)return t(g.replace("{1}",m));var n=e;u&&(n=F(n,{__oc_Retry:o})),oc.$.ajax({url:n,headers:{Accept:"application/vnd.oc.unrendered+json"},contentType:"text/plain",crossDomain:!0,async:!0,success:function(e){if("unrendered"===e.renderMode)oc.render(e.template,e.data,function(n,r){return n?t(g.replace("{0}",e.href).replace("{1}",n)):(I.info(q.replace("{0}",e.template.src)),void t(null,{html:r,key:e.template.key,version:e.version,name:e.name}))});else if("rendered"===e.renderMode){if(I.info(q.replace("{0}",e.href)),0===e.html.indexOf("<"+f)){var n=e.html.slice(e.html.indexOf(">")+1),r=n.slice(0,n.lastIndexOf("<"));e.html=r}t(null,{html:e.html,version:e.version,name:e.name})}},error:function(){I.error(j),B(e,function(n){oc.renderByHref(e,n,t)},function(){t(v.replace("{0}",e))})}})})},oc.renderUnloadedComponents=function(){oc.ready(function(){var e=oc.$(f+"[data-rendered!=true]"),n=e.length,r=function(){n--,n||oc.renderUnloadedComponents()};if(n>0)for(var t=0;t<e.length;t++)oc.renderNestedComponent(oc.$(e[t]),r)})},oc.load=function(e,n,r){oc.ready(function(){if("function"!=typeof r&&(r=k),oc.$(e)){oc.$(e).html("<"+f+' href="'+n+'" />');var t=oc.$(f,e);oc.renderNestedComponent(t,function(){r(t)})}})},oc.ready(oc.renderUnloadedComponents),e=oc}),oc.clientVersion="1.0.4";
//# sourceMappingURL=oc-client.min.map